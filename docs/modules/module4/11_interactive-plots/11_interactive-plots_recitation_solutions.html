<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel Quiroz">

<title>Interactive plots with plotly recitation solutions ‚Äì üíªüß∞üìäü•≥</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../img/code-slash.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-77633ece19c8e04db6d5a17cd4436747.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark-77a2314449dfb98733dd17d55e0a86b3.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../../site_libs/bootstrap/bootstrap-77633ece19c8e04db6d5a17cd4436747.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-M24LDNCMG6"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-M24LDNCMG6', { 'anonymize_ip': true});
</script>
<link href="../../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../../../site_libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="../../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../favicon.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">üíªüß∞üìäü•≥</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-syllabus" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Syllabus</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-syllabus">    
        <li>
    <a class="dropdown-item" href="../../../syllabus/syllabus.html">
 <span class="dropdown-text">Syllabus</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-course-content" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Course content</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-course-content">    
        <li class="dropdown-header">Module 1 - Principles</li>
        <li>
    <a class="dropdown-item" href="../../../modules/module1/01_principles/01_principles.html">
 <span class="dropdown-text">Week 1 - Principles</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module1/02_good-and-bad/02_goodbad.html">
 <span class="dropdown-text">Week 2 - Good and bad visualizations</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Module 2 - Coding fundamentals</li>
        <li>
    <a class="dropdown-item" href="../../../modules/module2/03_rmarkdown/03_Rmd.html">
 <span class="dropdown-text">Week 3 - R Markdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/04_wrangling/04_wrangling.html">
 <span class="dropdown-text">Week 4 - Wrangling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/05_ggplot101/05_ggplot101.html">
 <span class="dropdown-text">Week 5 - ggplot101</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/06_ggplot102/06_ggplot102.html">
 <span class="dropdown-text">Week 6 - ggplot102</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Module 3 - Data exploration</li>
        <li>
    <a class="dropdown-item" href="../../../modules/module3/07_distributions/07_distributions.html">
 <span class="dropdown-text">Week 7 - Data distributions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module3/08_correlations/08_correlations.html">
 <span class="dropdown-text">Week 8 - Correlations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module3/09_add-stats/09_add-stats.html">
 <span class="dropdown-text">Week 9 - Adding statistics</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Module 4 - Putting it together</li>
        <li>
    <a class="dropdown-item" href="../../../modules/module4/10_pca/10_pca.html">
 <span class="dropdown-text">Week 10 - Principal components analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/11_interactive-plots/11_interactive-plots.html">
 <span class="dropdown-text">Week 11 - Interactive plots</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/12_manhattan/12_manhattan.html">
 <span class="dropdown-text">Week 12 - Manhattan plots</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/13_leftovers/13_leftovers.html">
 <span class="dropdown-text">Week 13 - Leftovers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-recitations" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Recitations</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-recitations">    
        <li class="dropdown-header">Module 2 - Coding fundamentals</li>
        <li>
    <a class="dropdown-item" href="../../../modules/module2/03_rmarkdown/03_Rmd_recitation.html">
 <span class="dropdown-text">Week 3 - R Markdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/04_wrangling/04_wrangling_recitation.html">
 <span class="dropdown-text">Week 4 - Wrangling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/05_ggplot101/05_ggplot101_recitation.html">
 <span class="dropdown-text">Week 5 - ggplot101</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/06_ggplot102/06_ggplot102_recitation.html">
 <span class="dropdown-text">Week 6 - ggplot102</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Module 3 - Data exploration</li>
        <li>
    <a class="dropdown-item" href="../../../modules/module3/07_distributions/07_distributions_recitation.html">
 <span class="dropdown-text">Week 7 - Data distributions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module3/08_correlations/08_correlations_recitation.html">
 <span class="dropdown-text">Week 8 - Correlations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module3/09_add-stats/09_add-stats_recitation.html">
 <span class="dropdown-text">Week 9 - Adding statistics</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Module 4 - Putting it together</li>
        <li>
    <a class="dropdown-item" href="../../../modules/module4/10_pca/10_pca_recitation.html">
 <span class="dropdown-text">Week 10 - Principal components analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/11_interactive-plots/11_interactive-plots_recitation.html">
 <span class="dropdown-text">Week 11 - Interactive plots</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/12_manhattan/12_manhattan_recitation.html">
 <span class="dropdown-text">Week 12 - Manhattan plots</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/13_leftovers/13_leftovers_recitation.html">
 <span class="dropdown-text">Week 13 - Leftovers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assignments" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Assignments</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assignments">    
        <li class="dropdown-header">Module assignments</li>
        <li>
    <a class="dropdown-item" href="../../../assignments/modules/module1/module_1_assignment.html">
 <span class="dropdown-text">Module 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../assignments/modules/module2/module_2_assignment.html">
 <span class="dropdown-text">Module 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../assignments/modules/module3/module_3_assignment.html">
 <span class="dropdown-text">Module 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../assignments/modules/module4/module_4_assignment.html">
 <span class="dropdown-text">Module 4</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Reflections</li>
        <li>
    <a class="dropdown-item" href="../../../assignments/reflections.html">
 <span class="dropdown-text">Reflection instructions</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Recitations</li>
        <li>
    <a class="dropdown-item" href="../../../assignments/recitations.html">
 <span class="dropdown-text">Recitation instructions</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Capstone assignment</li>
        <li>
    <a class="dropdown-item" href="../../../assignments/capstone.html">
 <span class="dropdown-text">Capstone instructions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-solutions" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Solutions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-solutions">    
        <li class="dropdown-header">Module assignment solutions</li>
        <li>
    <a class="dropdown-item" href="../../../assignments/modules/module2/module_2_solutions.html">
 <span class="dropdown-text">Module 2 solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../assignments/modules/module3/module_3_solutions.html">
 <span class="dropdown-text">Module 3 solutions</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Recitation solutions</li>
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/jcooperstone/jcooperstone.github.io/main/rmds/03_Rmd_recitation_solutions.Rmd">
 <span class="dropdown-text">Week 3 - R Markdown solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/04_wrangling/04_wrangling_recitation_solutions.html">
 <span class="dropdown-text">Week 4 - Wrangling solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/05_ggplot101/05_ggplot101_recitation_solutions.html">
 <span class="dropdown-text">Week 5 - ggplot101 solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module2/06_ggplot102/06_ggplot102_recitation_solutions.html">
 <span class="dropdown-text">Week 6 - ggplot102 solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module3/07_distributions/07_distributions_recitation_solutions.html">
 <span class="dropdown-text">Week 7 - Data distributions solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module3/08_correlations/08_correlations_recitation_solutions.html">
 <span class="dropdown-text">Week 8 - Correlations solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module3/09_add-stats/09_add-stats_recitation_solutions.html">
 <span class="dropdown-text">Week 9 - Adding statistics solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/10_pca/10_pca_recitation_solutions.html">
 <span class="dropdown-text">Week 10 - Principal components analysis solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/11_interactive-plots/11_interactive-plots_recitation_solutions.html">
 <span class="dropdown-text">Week 11 - Interactive plots solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../modules/module4/12_manhattan/12_manhattan_recitation_solutions.html">
 <span class="dropdown-text">Week 12 - Manhattan plots solutions</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/jcooperstone/rdataviz" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://raw.githubusercontent.com/jcooperstone/jcooperstone.github.io/main/rmds/03_Rmd_recitation_solutions.Rmd">Recitation solutions</a></li><li class="breadcrumb-item"><a href="../../../modules/module4/11_interactive-plots/11_interactive-plots_recitation_solutions.html">Week 11 - Interactive plots solutions</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Module assignment solutions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../assignments/modules/module2/module_2_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Module 2 solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../assignments/modules/module3/module_3_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Module 3 solutions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Recitation solutions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://raw.githubusercontent.com/jcooperstone/jcooperstone.github.io/main/rmds/03_Rmd_recitation_solutions.Rmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 3 - R Markdown solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module2/04_wrangling/04_wrangling_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 4 - Wrangling solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module2/05_ggplot101/05_ggplot101_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 5 - ggplot101 solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module2/06_ggplot102/06_ggplot102_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 6 - ggplot102 solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module3/07_distributions/07_distributions_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 7 - Data distributions solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module3/08_correlations/08_correlations_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 8 - Correlations solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module3/09_add-stats/09_add-stats_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 9 - Adding statistics solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module4/10_pca/10_pca_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 10 - Principal components analysis solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module4/11_interactive-plots/11_interactive-plots_recitation_solutions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Week 11 - Interactive plots solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../modules/module4/12_manhattan/12_manhattan_recitation_solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 12 - Manhattan plots solutions</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#pig-gut-microbiome-data" id="toc-pig-gut-microbiome-data" class="nav-link" data-scroll-target="#pig-gut-microbiome-data">Pig gut microbiome data</a>
  <ul>
  <li><a href="#load-the-packages-we-will-use" id="toc-load-the-packages-we-will-use" class="nav-link" data-scroll-target="#load-the-packages-we-will-use">Load the packages we will use</a></li>
  <li><a href="#how-many-rows-and-columns-does-the-data-have" id="toc-how-many-rows-and-columns-does-the-data-have" class="nav-link" data-scroll-target="#how-many-rows-and-columns-does-the-data-have">How many rows and columns does the data have?</a></li>
  <li><a href="#how-many-phyla-does-the-data-contains-and-how-many-columns-represents-metadata-of-the-experiment" id="toc-how-many-phyla-does-the-data-contains-and-how-many-columns-represents-metadata-of-the-experiment" class="nav-link" data-scroll-target="#how-many-phyla-does-the-data-contains-and-how-many-columns-represents-metadata-of-the-experiment">How many phyla does the data contains and how many columns represents metadata of the experiment?</a></li>
  <li><a href="#computing-the-cumulative-abundance-for-other-phylum" id="toc-computing-the-cumulative-abundance-for-other-phylum" class="nav-link" data-scroll-target="#computing-the-cumulative-abundance-for-other-phylum">Computing the cumulative abundance for other phylum</a>
  <ul class="collapse">
  <li><a href="#create-a-new-column-with-a-new-phyla-assignation" id="toc-create-a-new-column-with-a-new-phyla-assignation" class="nav-link" data-scroll-target="#create-a-new-column-with-a-new-phyla-assignation">Create a new column with a new phyla assignation</a></li>
  <li><a href="#compute-the-cumulative-abundance-by-the-new-simplified_phyla-levels-that-you-created" id="toc-compute-the-cumulative-abundance-by-the-new-simplified_phyla-levels-that-you-created" class="nav-link" data-scroll-target="#compute-the-cumulative-abundance-by-the-new-simplified_phyla-levels-that-you-created">Compute the cumulative abundance by the new <code>Simplified_Phyla</code> levels that you created</a></li>
  <li><a href="#create-the-base-bar-plot-with-ggplot" id="toc-create-the-base-bar-plot-with-ggplot" class="nav-link" data-scroll-target="#create-the-base-bar-plot-with-ggplot">Create the base bar plot with ggplot</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#make-the-plot-interactive" id="toc-make-the-plot-interactive" class="nav-link" data-scroll-target="#make-the-plot-interactive">Make the plot interactive</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://raw.githubusercontent.com/jcooperstone/jcooperstone.github.io/main/rmds/03_Rmd_recitation_solutions.Rmd">Recitation solutions</a></li><li class="breadcrumb-item"><a href="../../../modules/module4/11_interactive-plots/11_interactive-plots_recitation_solutions.html">Week 11 - Interactive plots solutions</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Interactive plots with plotly recitation solutions</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel Quiroz </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Today we are going to work with microbiome data. In this recitation we are going to provide microbiome data as the result of the shotgun sequencing of the pig gut microbiome.</p>
<ul>
<li>Pig microbiome study: <a href="https://journals.asm.org/doi/10.1128/spectrum.02506-22">paper</a>, <a href="https://buckeyemailosu-my.sharepoint.com/:x:/g/personal/cooperstone_1_osu_edu/EY4vRHdMuKpOiuy-itag7ocB63AB3ukhjc0Y5jGRovfkvg?e=RnMz8e">data</a>.</li>
</ul>
</section>
<section id="pig-gut-microbiome-data" class="level1">
<h1>Pig gut microbiome data</h1>
<p>The goal of this recitation is to replicate the following plot, which expresses the relationship between the Bacteroidetes and Firmicutes while the rest of the Phyla levels were assigned to <em>others</em>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/updated_stacked_barplot.jpeg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1050"></p>
</figure>
</div>
</div>
</div>
<section id="load-the-packages-we-will-use" class="level3">
<h3 class="anchored" data-anchor-id="load-the-packages-we-will-use">Load the packages we will use</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-many-rows-and-columns-does-the-data-have" class="level2">
<h2 class="anchored" data-anchor-id="how-many-rows-and-columns-does-the-data-have">How many rows and columns does the data have?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pig_micro <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/Phyla_RelAbund_Final_Filtered_WithMetadata.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(pig_micro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60 50</code></pre>
</div>
</div>
<p>The data contains 60 rows and 50 columns</p>
</section>
<section id="how-many-phyla-does-the-data-contains-and-how-many-columns-represents-metadata-of-the-experiment" class="level2">
<h2 class="anchored" data-anchor-id="how-many-phyla-does-the-data-contains-and-how-many-columns-represents-metadata-of-the-experiment">How many phyla does the data contains and how many columns represents metadata of the experiment?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(pig_micro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 60
Columns: 50
$ Sample_Name                                   &lt;chr&gt; "ShotgunWGS-ControlPig6G‚Ä¶
$ Pig                                           &lt;dbl&gt; 6, 8, 3, 14, 5, 18, 16, ‚Ä¶
$ Diet                                          &lt;chr&gt; "Control", "Control", "C‚Ä¶
$ Time_Point                                    &lt;chr&gt; "Day 14", "Day 0", "Day ‚Ä¶
$ Diet_By_Time_Point                            &lt;chr&gt; "Control Day 14", "Contr‚Ä¶
$ Acidobacteria                                 &lt;dbl&gt; 0.000741000, 0.000885000‚Ä¶
$ Actinobacteria                                &lt;dbl&gt; 0.04813358, 0.06598073, ‚Ä¶
$ Apicomplexa                                   &lt;dbl&gt; 5.95e-05, 9.14e-05, 4.92‚Ä¶
$ Aquificae                                     &lt;dbl&gt; 0.000503, 0.000537, 0.00‚Ä¶
$ Ascomycota                                    &lt;dbl&gt; 0.000384000, 0.000523000‚Ä¶
$ Bacillariophyta                               &lt;dbl&gt; 2.71e-05, 4.38e-05, 3.34‚Ä¶
$ Bacteroidetes                                 &lt;dbl&gt; 0.3670956, 0.3312767, 0.‚Ä¶
$ Basidiomycota                                 &lt;dbl&gt; 6.18e-05, 9.64e-05, 5.13‚Ä¶
$ `Candidatus Poribacteria`                     &lt;dbl&gt; 6.70e-06, 1.17e-05, 5.44‚Ä¶
$ Chlamydiae                                    &lt;dbl&gt; 0.000142, 0.000197, 0.00‚Ä¶
$ Chlorobi                                      &lt;dbl&gt; 0.001259844, 0.001445895‚Ä¶
$ Chloroflexi                                   &lt;dbl&gt; 0.002020802, 0.002288481‚Ä¶
$ Chlorophyta                                   &lt;dbl&gt; 9.53e-05, 1.36e-04, 9.38‚Ä¶
$ Chrysiogenetes                                &lt;dbl&gt; 8.53e-05, 9.90e-05, 7.02‚Ä¶
$ Crenarchaeota                                 &lt;dbl&gt; 0.000167, 0.000215, 0.00‚Ä¶
$ Cyanobacteria                                 &lt;dbl&gt; 0.002277461, 0.003240824‚Ä¶
$ Deferribacteres                               &lt;dbl&gt; 0.000385, 0.000475, 0.00‚Ä¶
$ `Deinococcus-Thermus`                         &lt;dbl&gt; 0.000639000, 0.000854000‚Ä¶
$ Dictyoglomi                                   &lt;dbl&gt; 0.000314000, 0.000370000‚Ä¶
$ Elusimicrobia                                 &lt;dbl&gt; 0.000163, 0.000240, 0.00‚Ä¶
$ Euryarchaeota                                 &lt;dbl&gt; 0.003395060, 0.004565534‚Ä¶
$ Fibrobacteres                                 &lt;dbl&gt; 0.001228664, 0.001657792‚Ä¶
$ Firmicutes                                    &lt;dbl&gt; 0.5308271, 0.5293436, 0.‚Ä¶
$ Fusobacteria                                  &lt;dbl&gt; 0.003955535, 0.005057419‚Ä¶
$ Gemmatimonadetes                              &lt;dbl&gt; 5.44e-05, 8.09e-05, 6.24‚Ä¶
$ Hemichordata                                  &lt;dbl&gt; 6.70e-06, 4.29e-06, 4.14‚Ä¶
$ Korarchaeota                                  &lt;dbl&gt; 1.93e-05, 2.31e-05, 1.35‚Ä¶
$ Lentisphaerae                                 &lt;dbl&gt; 0.000197000, 0.000436000‚Ä¶
$ Microsporidia                                 &lt;dbl&gt; 1.26e-05, 2.10e-05, 1.45‚Ä¶
$ Nanoarchaeota                                 &lt;dbl&gt; 1.03e-06, 1.19e-06, 1.04‚Ä¶
$ Nematoda                                      &lt;dbl&gt; 4.59e-05, 6.31e-05, 3.78‚Ä¶
$ Nitrospirae                                   &lt;dbl&gt; 0.000142, 0.000190, 0.00‚Ä¶
$ Placozoa                                      &lt;dbl&gt; 1.75e-05, 1.62e-05, 8.03‚Ä¶
$ Planctomycetes                                &lt;dbl&gt; 0.00039200, 0.00062700, ‚Ä¶
$ Proteobacteria                                &lt;dbl&gt; 0.02713703, 0.03683140, ‚Ä¶
$ Spirochaetes                                  &lt;dbl&gt; 0.002968326, 0.004157693‚Ä¶
$ Synergistetes                                 &lt;dbl&gt; 0.001147492, 0.001783025‚Ä¶
$ Tenericutes                                   &lt;dbl&gt; 0.000712000, 0.000888000‚Ä¶
$ Thaumarchaeota                                &lt;dbl&gt; 1.44e-05, 1.90e-05, 1.53‚Ä¶
$ Thermotogae                                   &lt;dbl&gt; 0.001292056, 0.001691600‚Ä¶
$ Verrucomicrobia                               &lt;dbl&gt; 0.000827000, 0.001495655‚Ä¶
$ `unclassified (derived from Bacteria)`        &lt;dbl&gt; 0.000308, 0.000410, 0.00‚Ä¶
$ `unclassified (derived from Eukaryota)`       &lt;dbl&gt; 0.000325000, 0.000997000‚Ä¶
$ `unclassified (derived from Viruses)`         &lt;dbl&gt; 0.000398000, 0.000625000‚Ä¶
$ `unclassified (derived from other sequences)` &lt;dbl&gt; 1.24e-05, 7.86e-06, 1.61‚Ä¶</code></pre>
</div>
</div>
<p>The first 5 rows represents metadata:</p>
<ul>
<li><code>Sample_Name</code></li>
<li><code>Pig</code></li>
<li><code>Diet</code></li>
<li><code>Time_Point</code></li>
<li><code>Diet_By_Time_Point</code></li>
</ul>
<p>The remainder of the columns represent the different phyla level annotation.</p>
</section>
<section id="computing-the-cumulative-abundance-for-other-phylum" class="level2">
<h2 class="anchored" data-anchor-id="computing-the-cumulative-abundance-for-other-phylum">Computing the cumulative abundance for other phylum</h2>
<section id="create-a-new-column-with-a-new-phyla-assignation" class="level3">
<h3 class="anchored" data-anchor-id="create-a-new-column-with-a-new-phyla-assignation">Create a new column with a new phyla assignation</h3>
<p>Keep the phyla level when they are Firmicutes or Bacteroidetes, otherwise assign Phyla to ‚ÄúOther level‚Äù.</p>
<blockquote class="blockquote">
<p>Hint: You may need to pivot the data to evaluate the column names as observations</p>
</blockquote>
<p>Here, we are creating a new column called <code>Simplified_Phyla</code> where if the <code>Phyla</code> is Bacteriodetes or Firmicutes, we specify the value that currently exists in <code>Phyla</code>, and if its not, then we specify to give the value ‚ÄúOther phyla‚Äù.</p>
<p>We can do this with <a href="https://dplyr.tidyverse.org/reference/if_else.html"><code>if_else()</code></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pig_micro <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select all the phyla columns</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> Acidobacteria<span class="sc">:</span><span class="st">`</span><span class="at">unclassified (derived from other sequences)</span><span class="st">`</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Abundance"</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Phyla"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Simplified_Phyla =</span> <span class="fu">if_else</span>(<span class="at">condition =</span> Phyla <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Bacteroidetes"</span>, <span class="st">"Firmicutes"</span>), </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">true =</span> Phyla, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">false =</span> <span class="st">"Other phyla"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 8
  Sample_Name            Pig Diet  Time_Point Diet_By_Time_Point Phyla Abundance
  &lt;chr&gt;                &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;              &lt;chr&gt;     &lt;dbl&gt;
1 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Acid‚Ä¶ 0.000741 
2 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Acti‚Ä¶ 0.0481   
3 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Apic‚Ä¶ 0.0000595
4 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Aqui‚Ä¶ 0.000503 
5 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Asco‚Ä¶ 0.000384 
6 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Baci‚Ä¶ 0.0000271
# ‚Ñπ 1 more variable: Simplified_Phyla &lt;chr&gt;</code></pre>
</div>
</div>
<p>Or with <a href="https://dplyr.tidyverse.org/reference/case_when.html"><code>case_when()</code></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>pig_micro <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select all the phyla columns</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> Acidobacteria<span class="sc">:</span><span class="st">`</span><span class="at">unclassified (derived from other sequences)</span><span class="st">`</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Abundance"</span>, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Phyla"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Simplified_Phyla =</span> <span class="fu">case_when</span>(Phyla <span class="sc">==</span> <span class="st">"Bacteroidetes"</span> <span class="sc">~</span> Phyla,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                           Phyla <span class="sc">==</span> <span class="st">"Firmicutes"</span> <span class="sc">~</span> Phyla,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                      <span class="co">#    .default = "Other phyla")) |&gt; # use this if you have a newer version of R  </span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                           <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other phyla"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 8
  Sample_Name            Pig Diet  Time_Point Diet_By_Time_Point Phyla Abundance
  &lt;chr&gt;                &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;              &lt;chr&gt;     &lt;dbl&gt;
1 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Acid‚Ä¶ 0.000741 
2 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Acti‚Ä¶ 0.0481   
3 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Apic‚Ä¶ 0.0000595
4 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Aqui‚Ä¶ 0.000503 
5 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Asco‚Ä¶ 0.000384 
6 ShotgunWGS-ControlP‚Ä¶     6 Cont‚Ä¶ Day 14     Control Day 14     Baci‚Ä¶ 0.0000271
# ‚Ñπ 1 more variable: Simplified_Phyla &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="compute-the-cumulative-abundance-by-the-new-simplified_phyla-levels-that-you-created" class="level3">
<h3 class="anchored" data-anchor-id="compute-the-cumulative-abundance-by-the-new-simplified_phyla-levels-that-you-created">Compute the cumulative abundance by the new <code>Simplified_Phyla</code> levels that you created</h3>
<p>We want to have a summary that has the relative abundance of each of the <code>Simplified_Phyla</code> for each pig.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>pig_clean <span class="ot">&lt;-</span> pig_micro <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select all the phyla columns</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> Acidobacteria<span class="sc">:</span><span class="st">`</span><span class="at">unclassified (derived from other sequences)</span><span class="st">`</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Abundance"</span>, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Phyla"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Simplified_Phyla =</span> <span class="fu">if_else</span>(<span class="at">condition =</span> Phyla <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Bacteroidetes"</span>, <span class="st">"Firmicutes"</span>), </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">true =</span> Phyla, </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">false =</span> <span class="st">"Other phyla"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Sample_Name, Simplified_Phyla, Time_Point, Pig) <span class="sc">|&gt;</span> </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Abundance =</span> <span class="fu">sum</span>(Abundance)) </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pig_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 5
# Groups:   Sample_Name, Simplified_Phyla, Time_Point [6]
  Sample_Name                        Simplified_Phyla Time_Point   Pig Abundance
  &lt;chr&gt;                              &lt;chr&gt;            &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 ShotgunWGS-ControlPig10GutMicrobi‚Ä¶ Bacteroidetes    Day 0         10    0.481 
2 ShotgunWGS-ControlPig10GutMicrobi‚Ä¶ Firmicutes       Day 0         10    0.435 
3 ShotgunWGS-ControlPig10GutMicrobi‚Ä¶ Other phyla      Day 0         10    0.0839
4 ShotgunWGS-ControlPig10GutMicrobi‚Ä¶ Bacteroidetes    Day 14        10    0.383 
5 ShotgunWGS-ControlPig10GutMicrobi‚Ä¶ Firmicutes       Day 14        10    0.513 
6 ShotgunWGS-ControlPig10GutMicrobi‚Ä¶ Other phyla      Day 14        10    0.104 </code></pre>
</div>
</div>
</section>
<section id="create-the-base-bar-plot-with-ggplot" class="level3">
<h3 class="anchored" data-anchor-id="create-the-base-bar-plot-with-ggplot">Create the base bar plot with ggplot</h3>
<p>First some wrangling.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># what are the time points called again?</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pig_clean<span class="sc">$</span>Time_Point)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Day 0"  "Day 14" "Day 7" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make Time_Point a factor so the faceting goes Day 0, Day 7, Day 14</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># instead of putting Day 14 in the middle</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>pig_clean<span class="sc">$</span>Time_Point <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(pig_clean<span class="sc">$</span>Time_Point)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># set levels to be the order we want</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>pig_clean<span class="sc">$</span>Time_Point <span class="ot">&lt;-</span> <span class="fu">factor</span>(pig_clean<span class="sc">$</span>Time_Point,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                               <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Day 0"</span>, <span class="st">"Day 7"</span>, <span class="st">"Day 14"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>stack_barplot <span class="ot">&lt;-</span> pig_clean <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(Pig), <span class="at">y =</span> Abundance, <span class="at">fill =</span> Simplified_Phyla, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set text to specify hover test         </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{Simplified_Phyla}: {round(Abundance, 3)*100}%"</span>))) <span class="sc">+</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"GnBu"</span>) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Time_Point)) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Relative Abundance"</span>, </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Phyla"</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Pig Number"</span>,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Bacteriodetes, Firmicutes, and Other Phyla from </span><span class="sc">\n</span><span class="st">Pig Microbiome Sequencing using Shotgun Metagenomics"</span>) <span class="sc">+</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">10</span>), </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>stack_barplot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="11_interactive-plots_recitation_solutions_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="make-the-plot-interactive" class="level1">
<h1>Make the plot interactive</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(stack_barplot,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">100</span>)) <span class="co"># for increasing the padding around the title</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-01db85feeadb2b9e7024" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-01db85feeadb2b9e7024">{"x":{"data":[{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.51862511300000003,0.66339262799999998,0.59386243700000008,0.663815131,0.63226408099999998,0.60417604000000003,0.53904971700000004,0.58502016499999998,0.6687235869999999,0.65716430699999995,0.68014989100000001,0.64138978400000002,0.624067547,0.68713201800000001,0.67310475000000003,0.57342081900000008,0.51171573800000003,0.62207180200000001,0.64968728500000006,0.64113146900000006],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.48137446499999992,0.33660387699999994,0.40613691299999999,0.33618213899999994,0.36773553599999997,0.39582142099999995,0.46094526300000005,0.41497876899999997,0.33127666899999997,0.34283327200000002,0.31984590700000004,0.35860753499999998,0.37593244100000001,0.31286634099999999,0.32689197299999995,0.426576226,0.48828219299999998,0.37792737899999995,0.35031129299999997,0.35886374300000001],"text":["Bacteroidetes: 48.1%","Bacteroidetes: 33.7%","Bacteroidetes: 40.6%","Bacteroidetes: 33.6%","Bacteroidetes: 36.8%","Bacteroidetes: 39.6%","Bacteroidetes: 46.1%","Bacteroidetes: 41.5%","Bacteroidetes: 33.1%","Bacteroidetes: 34.3%","Bacteroidetes: 32%","Bacteroidetes: 35.9%","Bacteroidetes: 37.6%","Bacteroidetes: 31.3%","Bacteroidetes: 32.7%","Bacteroidetes: 42.7%","Bacteroidetes: 48.8%","Bacteroidetes: 37.8%","Bacteroidetes: 35%","Bacteroidetes: 35.9%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(224,243,219,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Bacteroidetes","legendgroup":"Bacteroidetes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.62236895599999997,0.704125259,0.72748419899999994,0.74859069200000006,0.67989862000000001,0.74000220400000005,0.53140051099999996,0.54582693800000004,0.62476538100000001,0.68397012899999998,0.57791135100000002,0.70134637799999999,0.78415268500000002,0.65384218500000002,0.66280784199999998,0.62213046700000008,0.60107953300000005,0.61274127500000009,0.66909709299999998,0.56294526900000008],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.37762691999999998,0.29587332899999996,0.27250998999999998,0.25140517200000001,0.32009867199999997,0.25999663399999995,0.46860062200000008,0.45417284099999999,0.375232181,0.31602655000000002,0.42208622499999993,0.29865201600000002,0.21584144299999997,0.34614981300000003,0.33718472799999999,0.37786856800000002,0.39891877200000003,0.38725930100000006,0.33090152099999992,0.43705230799999994],"text":["Bacteroidetes: 37.8%","Bacteroidetes: 29.6%","Bacteroidetes: 27.3%","Bacteroidetes: 25.1%","Bacteroidetes: 32%","Bacteroidetes: 26%","Bacteroidetes: 46.9%","Bacteroidetes: 45.4%","Bacteroidetes: 37.5%","Bacteroidetes: 31.6%","Bacteroidetes: 42.2%","Bacteroidetes: 29.9%","Bacteroidetes: 21.6%","Bacteroidetes: 34.6%","Bacteroidetes: 33.7%","Bacteroidetes: 37.8%","Bacteroidetes: 39.9%","Bacteroidetes: 38.7%","Bacteroidetes: 33.1%","Bacteroidetes: 43.7%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(224,243,219,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Bacteroidetes","legendgroup":"Bacteroidetes","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.6169506600000001,0.670261459,0.75364989999999998,0.67361807799999995,0.65601305300000012,0.6973424800000001,0.63290193000000006,0.64186327600000004,0.64239048199999993,0.67322394600000002,0.59216038000000004,0.7407185879999999,0.75871733499999994,0.60052291899999999,0.63350730200000005,0.64491891499999998,0.63060183600000008,0.6180954139999999,0.66806081799999995,0.69819949699999995],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.38304909700000001,0.32973587100000001,0.24635068199999999,0.32638165200000002,0.34398800400000007,0.30265556000000005,0.36709556500000007,0.35813417199999997,0.357607436,0.32677939300000003,0.40783164699999996,0.25927840899999999,0.24128311199999997,0.39947151300000006,0.36649004200000002,0.35507917599999994,0.36939739100000002,0.38190152300000002,0.33193899799999993,0.30179758800000001],"text":["Bacteroidetes: 38.3%","Bacteroidetes: 33%","Bacteroidetes: 24.6%","Bacteroidetes: 32.6%","Bacteroidetes: 34.4%","Bacteroidetes: 30.3%","Bacteroidetes: 36.7%","Bacteroidetes: 35.8%","Bacteroidetes: 35.8%","Bacteroidetes: 32.7%","Bacteroidetes: 40.8%","Bacteroidetes: 25.9%","Bacteroidetes: 24.1%","Bacteroidetes: 39.9%","Bacteroidetes: 36.6%","Bacteroidetes: 35.5%","Bacteroidetes: 36.9%","Bacteroidetes: 38.2%","Bacteroidetes: 33.2%","Bacteroidetes: 30.2%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(224,243,219,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Bacteroidetes","legendgroup":"Bacteroidetes","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.083876840999999994,0.067320867000000006,0.127412619,0.155896852,0.14139839899999998,0.121653947,0.11020577799999999,0.07459589300000001,0.13937998499999993,0.11482081799999996,0.15784171100000002,0.10246332900000001,0.11987656799999999,0.17952077700000002,0.14882535500000002,0.099573193000000004,0.091109730999999999,0.10312765999999998,0.13922967400000008,0.14139623900000003],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.43474827200000005,0.59607176099999992,0.46644981800000007,0.50791827899999997,0.49086568200000003,0.48252209300000004,0.42884393900000006,0.51042427199999996,0.52934360199999997,0.54234348899999996,0.52230818000000001,0.53892645500000003,0.50419097899999998,0.50761124099999999,0.52427939499999998,0.47384762600000008,0.42060600700000006,0.51894414200000005,0.51045761099999998,0.49973523000000003],"text":["Firmicutes: 43.5%","Firmicutes: 59.6%","Firmicutes: 46.6%","Firmicutes: 50.8%","Firmicutes: 49.1%","Firmicutes: 48.3%","Firmicutes: 42.9%","Firmicutes: 51%","Firmicutes: 52.9%","Firmicutes: 54.2%","Firmicutes: 52.2%","Firmicutes: 53.9%","Firmicutes: 50.4%","Firmicutes: 50.8%","Firmicutes: 52.4%","Firmicutes: 47.4%","Firmicutes: 42.1%","Firmicutes: 51.9%","Firmicutes: 51%","Firmicutes: 50%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(168,221,181,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Firmicutes","legendgroup":"Firmicutes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.12302602899999998,0.083827778999999991,0.14291795699999998,0.14169115600000007,0.13596834799999999,0.11497383799999999,0.10150363599999998,0.09900268299999998,0.10051620500000001,0.13585105400000003,0.112908282,0.13605840599999999,0.15038653900000001,0.13072475200000003,0.18131855299999997,0.089640224000000004,0.128344862,0.16738842300000004,0.11516826400000002,0.10391474400000003],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.49934292699999999,0.62029748000000007,0.58456624199999996,0.60689953600000002,0.54393027199999999,0.625028366,0.42989687499999996,0.44682425500000006,0.52424917599999998,0.54811907500000001,0.46500306899999999,0.56528797200000003,0.63376614600000003,0.52311743300000002,0.48148928899999999,0.53249024300000003,0.47273467100000005,0.44535285200000008,0.55392882899999996,0.45903052500000008],"text":["Firmicutes: 49.9%","Firmicutes: 62%","Firmicutes: 58.5%","Firmicutes: 60.7%","Firmicutes: 54.4%","Firmicutes: 62.5%","Firmicutes: 43%","Firmicutes: 44.7%","Firmicutes: 52.4%","Firmicutes: 54.8%","Firmicutes: 46.5%","Firmicutes: 56.5%","Firmicutes: 63.4%","Firmicutes: 52.3%","Firmicutes: 48.1%","Firmicutes: 53.2%","Firmicutes: 47.3%","Firmicutes: 44.5%","Firmicutes: 55.4%","Firmicutes: 45.9%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(168,221,181,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Firmicutes","legendgroup":"Firmicutes","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.10396705000000001,0.093447937000000023,0.09540237700000001,0.086592259999999976,0.094090991000000013,0.13495435500000003,0.10207478300000002,0.10088245400000002,0.077076736999999992,0.093881525999999993,0.11763059500000005,0.14418644299999997,0.14022267099999997,0.097828231999999987,0.111445816,0.146908819,0.084616043000000002,0.13569385899999994,0.11407699999999997,0.099254325000000004],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.51298361000000003,0.57681352200000002,0.658247523,0.58702581799999998,0.56192206200000006,0.56238812500000002,0.530827147,0.54098082199999997,0.56531374499999998,0.57934242000000002,0.47452978499999998,0.59653214499999996,0.61849466399999997,0.50269468699999997,0.52206148600000002,0.49801009600000001,0.54598579300000005,0.48240155499999993,0.55398381799999996,0.59894517199999997],"text":["Firmicutes: 51.3%","Firmicutes: 57.7%","Firmicutes: 65.8%","Firmicutes: 58.7%","Firmicutes: 56.2%","Firmicutes: 56.2%","Firmicutes: 53.1%","Firmicutes: 54.1%","Firmicutes: 56.5%","Firmicutes: 57.9%","Firmicutes: 47.5%","Firmicutes: 59.7%","Firmicutes: 61.8%","Firmicutes: 50.3%","Firmicutes: 52.2%","Firmicutes: 49.8%","Firmicutes: 54.6%","Firmicutes: 48.2%","Firmicutes: 55.4%","Firmicutes: 59.9%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(168,221,181,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Firmicutes","legendgroup":"Firmicutes","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.083876840999999994,0.067320867000000006,0.127412619,0.155896852,0.14139839899999998,0.121653947,0.11020577799999999,0.07459589300000001,0.13937998499999993,0.11482081799999996,0.15784171100000002,0.10246332900000001,0.11987656799999999,0.17952077700000002,0.14882535500000002,0.099573193000000004,0.091109730999999999,0.10312765999999998,0.13922967400000008,0.14139623900000003],"text":["Other phyla: 8.4%","Other phyla: 6.7%","Other phyla: 12.7%","Other phyla: 15.6%","Other phyla: 14.1%","Other phyla: 12.2%","Other phyla: 11%","Other phyla: 7.5%","Other phyla: 13.9%","Other phyla: 11.5%","Other phyla: 15.8%","Other phyla: 10.2%","Other phyla: 12%","Other phyla: 18%","Other phyla: 14.9%","Other phyla: 10%","Other phyla: 9.1%","Other phyla: 10.3%","Other phyla: 13.9%","Other phyla: 14.1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(67,162,202,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Other phyla","legendgroup":"Other phyla","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.12302602899999998,0.083827778999999991,0.14291795699999998,0.14169115600000007,0.13596834799999999,0.11497383799999999,0.10150363599999998,0.09900268299999998,0.10051620500000001,0.13585105400000003,0.112908282,0.13605840599999999,0.15038653900000001,0.13072475200000003,0.18131855299999997,0.089640224000000004,0.128344862,0.16738842300000004,0.11516826400000002,0.10391474400000003],"text":["Other phyla: 12.3%","Other phyla: 8.4%","Other phyla: 14.3%","Other phyla: 14.2%","Other phyla: 13.6%","Other phyla: 11.5%","Other phyla: 10.2%","Other phyla: 9.9%","Other phyla: 10.1%","Other phyla: 13.6%","Other phyla: 11.3%","Other phyla: 13.6%","Other phyla: 15%","Other phyla: 13.1%","Other phyla: 18.1%","Other phyla: 9%","Other phyla: 12.8%","Other phyla: 16.7%","Other phyla: 11.5%","Other phyla: 10.4%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(67,162,202,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Other phyla","legendgroup":"Other phyla","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999858,0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[10,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20],"y":[0.10396705000000001,0.093447937000000023,0.09540237700000001,0.086592259999999976,0.094090991000000013,0.13495435500000003,0.10207478300000002,0.10088245400000002,0.077076736999999992,0.093881525999999993,0.11763059500000005,0.14418644299999997,0.14022267099999997,0.097828231999999987,0.111445816,0.146908819,0.084616043000000002,0.13569385899999994,0.11407699999999997,0.099254325000000004],"text":["Other phyla: 10.4%","Other phyla: 9.3%","Other phyla: 9.5%","Other phyla: 8.7%","Other phyla: 9.4%","Other phyla: 13.5%","Other phyla: 10.2%","Other phyla: 10.1%","Other phyla: 7.7%","Other phyla: 9.4%","Other phyla: 11.8%","Other phyla: 14.4%","Other phyla: 14%","Other phyla: 9.8%","Other phyla: 11.1%","Other phyla: 14.7%","Other phyla: 8.5%","Other phyla: 13.6%","Other phyla: 11.4%","Other phyla: 9.9%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(67,162,202,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Other phyla","legendgroup":"Other phyla","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":100,"r":7.3059360730593621,"b":40.182648401826491,"l":54.794520547945211},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Bacteriodetes, Firmicutes, and Other Phyla from <br />Pig Microbiome Sequencing using Shotgun Metagenomics","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.32246140465318546],"automargin":true,"type":"linear","autorange":false,"range":[-0.44499999999999995,21.445],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Pig Number","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-24.840182648401832},{"text":"Relative Abundance","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-39.452054794520549},{"text":"Day 0","x":0.16123070232659273,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":13.283520132835205},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Day 7","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":13.283520132835205},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Day 14","x":0.83876929767340724,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":13.283520132835205},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.050000166950000008,1.0500035059500001],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[-6.9388939039072284e-18,0.24999999999999997,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.32246140465318546,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":0.32246140465318546,"y0":0,"y1":24.973017849730184,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0.34420526201348117,"x1":0.65579473798651877,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0.34420526201348117,"x1":0.65579473798651877,"y0":0,"y1":24.973017849730184,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0.67753859534681449,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0.67753859534681449,"x1":1,"y0":0,"y1":24.973017849730184,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-0.44499999999999995,21.445],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0,"showgrid":false,"domain":[0.34420526201348117,0.65579473798651877],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[-0.44499999999999995,21.445],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0,"showgrid":false,"domain":[0.67753859534681449,1],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Phyla","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"133baa2566f2":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"133baa2566f2","visdat":{"133baa2566f2":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/www\.rdataviz\.com\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Created with RStudio and <a href="https://quarto.org/">Quarto</a> <br> ¬© Jessica Cooperstone, 2025, License: <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a> <br> <a href="https://osu-codeclub.github.io/#category=website">Want to make a website like this one?</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jcooperstone/rdataviz">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>